<ion-view view-title="{{title_text}}">
    <ion-nav-buttons side="primary">
        <button class="button" ng-click="back()">
            <i class="ion-chevron-left"></i>
        </button>
    </ion-nav-buttons>
    <ion-nav-buttons side="secondary">
        <button class="button" ng-click="addCollection()">
            <i class="ion-checkmark-round"></i>
        </button>
    </ion-nav-buttons>
    <ion-content has-header="true" class="padding" on-swipe-right="back()">
        <div class="padding balanced-bg" ng-if="suc_mess"><i class="icon ion-checkmark-circled"></i> {{suc_mess}}</div>
        <div class="padding assertive-bg" ng-if="err_mess"><i class="icon ion-minus-circled"></i> {{err_mess}}</div>
        <ion-list>
            <ion-item class="form-item" ng-controller="InputCtrl"
                      ng-click="openPopup('text', 'collection.name', collection.name, 'Name')">
                <div class="row">
                    <div class="col label">Name</div>
                    <div class="col value text-right">{{collection.name}}</div>
                    <div class="col col-10 text-right"><i class="ion-chevron-right"></i></div>
                </div>
            </ion-item>
            <ion-item class="form-item" ng-controller="InputCtrl"
                      ng-click="openPopup('textarea', 'collection.description', collection.description, 'Description')">
                <div class="row">
                    <div class="col label">Description</div>
                    <div class="col value text-right">{{collection.description}}</div>
                    <div class="col col-10 text-right"><i class="ion-chevron-right"></i></div>
                </div>
            </ion-item>
            <ion-item class="form-item" ng-controller="InputCtrl" 
                      ng-click="openPopup('select-category', 'collection.tid', collection.tid, 'Category')">
                <div class="row">
                    <div class="col label">Category</div>
                    <div class="col value text-right">{{collection.category_name}}</div>
                    <div class="col col-10 text-right"><i class="ion-chevron-right"></i></div>
                </div>
            </ion-item>
            <ion-item class="form-item" ng-click="checkWhoCanAdd(collection.bid)">
                <div class="row">
                    <div class="col label">Who can add clips?</div>
                    <div class="col col-10 text-right"><i class="ion-chevron-right"></i></div>
                </div>
            </ion-item>
            <ion-item class="form-item" ng-click="$state.go('shared', {collectionId: collection.bid})">
                <div class="row">
                    <div class="col label">Who can view my collection?</div>
                    <div class="col col-10 text-right"><i class="ion-chevron-right"></i></div>
                </div>
            </ion-item>
        </ion-list>
        <div ng-if="collection.bid && collection.bid!='new'">
            <button ng-click="deleteCollection(collection.bid)" class="button button-block button-calm edit-delete">Delete</button>
        </div>
    </ion-content>
</ion-view>
